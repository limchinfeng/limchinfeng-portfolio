---
import Footer from "src/components/footer.astro";
import Header from "src/components/header.astro";
import ThemeToggle from "src/components/theme-toggle";
import Layout from "src/layouts/Layout.astro";
import AvailabilityCalendar from "src/components/veecotech/calendar";
import { announcements } from "src/data/availability";
import { Image } from "astro:assets";
import academicCalendar from "public/image/veecotech/academic-calendar-sem2.png";
---

<Layout title="Veecotech Availability | limchinfeng">
	<ThemeToggle client:load />
	<div class="w-wrapper min-h-screen flex flex-col">
    <Header />
		<div class="flex flex-1 z-0 w-full">
      <!-- Blogs -->
      <div class="leading-relaxed space-y-3 text-justify text-light-text dark:text-dark-text mx-5 w-full">
        <div class="flex flex-col justify-center items-center">
          <div class="flex flex-col gap-3 w-full border-white">
            {announcements && announcements.length > 0 && announcements.map((announcement) => (
              <div
                class={`w-full space-y-1 bg-light-background dark:bg-dark-background border border-light-text dark:border-dark-border p-5 mb-5 
                ${announcement.type === "info" && "border-l-8 border-l-blue-500 dark:border-l-blue-300" } 
                ${announcement.type === "important" && "border-l-8 border-l-red-500 dark:border-l-red-300" }`}
              >
                <h1 class="text-title text-xl font-bold ">{announcement.title }</h1>
                <p class="text-sm text-light-text dark:text-dark-text">{announcement.date}</p>
                <p class="text-justify">{announcement.description}</p>
              </div>
            ))}
          </div>
          <div class="h-full w-full mt-5">
            <AvailabilityCalendar client:load />
          </div>
          <div class="mt-8 rounded-sm">
            <Image 
              src={academicCalendar}
              alt="academic calendar semester 1"
              class=""
              draggable="false"
            />
          </div>
        </div>
      </div>
		</div>
    <Footer />
  </div>
</Layout>
